<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1046px" height="698px" viewBox="-0.5 -0.5 1046 698" content="&lt;mxfile modified=&quot;2019-06-06T12:28:40.112Z&quot; host=&quot;www.draw.io&quot; agent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/74.0.3729.169 Chrome/74.0.3729.169 Safari/537.36&quot; etag=&quot;UebfsIGTQ4Kdm_17y_j0&quot; version=&quot;10.7.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;cf63cc30-8442-5d33-6bd1-2f34b1dd6ee1&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="486" y="78" width="425" height="563" rx="63.75" ry="63.75" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="554.12" y="72.12">GIN CI VM</text></g><rect x="18" y="226" width="180" height="154" rx="23.1" ry="23.1" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="51.12" y="220.12">Local</text></g><rect x="512" y="225" width="202" height="390" rx="30.3" ry="30.3" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="560.12" y="219.12">gin-proc</text></g><rect x="235" y="225" width="160" height="222" rx="24" ry="24" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="263.12" y="219.12">GIN</text></g><path d="M 680.1 364.84 L 934.11 364.2" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 672.1 364.86 L 680.09 362.17 L 680.1 367.5 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 942.11 364.18 L 934.12 366.86 L 934.1 361.53 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><rect fill="#ffffff" stroke="none" x="773" y="345" width="95" height="15" stroke-width="0"/><text x="819.72" y="355.39">authentication (d)</text></g><path d="M 378.83 304.17 L 532.04 303.53" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 540.04 303.49 L 532.05 306.19 L 532.03 300.86 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><rect fill="#ffffff" stroke="none" x="413" y="285" width="68" height="15" stroke-width="0"/><text x="413.22" y="294.65">webhook (a)</text></g><path d="M 557.45 426.93 L 318.83 426.93 L 318.83 360.62" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 318.83 352.62 L 321.49 360.62 L 316.16 360.62 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><rect fill="#ffffff" stroke="none" x="407" y="434" width="67" height="15" stroke-width="0"/><text x="439.6" y="443.78">backflow (e)</text></g><rect x="944" y="314.5" width="100" height="100" rx="15" ry="15" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="987.12" y="308.62">Cluster</text></g><path d="M 181.59 304.17 L 248.59 304.17" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 256.59 304.17 L 248.59 306.84 L 248.59 301.51 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><rect fill="#ffffff" stroke="none" x="175" y="282" width="2" height="15" stroke-width="0"/></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="19.5" y="480.5">(a) [user]/[repo]/[branch]/[cibuild]</text><text x="19.5" y="494.5">      e.g. mdenker/reponame/master/snakemake</text><text x="19.5" y="508.5">(b) container persistance and reuse</text><text x="19.5" y="522.5">(c) timestamp handling: local vs. commit(b) snakemake specific remotes</text><text x="19.5" y="536.5">      possible gin remote</text><text x="19.5" y="550.5">(d) authentication via gin token exchange</text><text x="19.5" y="564.5">(e) backflow of out.in to the gin repo</text><text x="19.5" y="578.5">     - new branch + pull request</text><text x="19.5" y="592.5">     - downloadable zip file</text><text x="19.5" y="606.5">(f) snakemake build graph visualization</text></g><path d="M 614 449.69 L 614.19 473.8" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 614.26 481.8 L 611.53 473.82 L 616.86 473.78 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><rect fill="#ffffff" stroke="none" x="568" y="446" width="2" height="15" stroke-width="0"/></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="19.5" y="630.5">snakefile example:</text><text x="19.5" y="644.5">rule:</text><text x="19.5" y="658.5">  input: gin://in.dat</text><text x="19.5" y="672.5">  output: gin://out.dat -m "job success commit message"</text><text x="19.5" y="686.5">  shell: python codefile.py in.dat out.dat</text></g><g fill="#000000" font-family="Helvetica" font-size="20px"><text x="1.5" y="21.5">gin-proc snakemake microservice workflow [DRAFT]</text></g><rect x="542" y="255" width="144" height="195" rx="21.6" ry="21.6" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="613.5" y="247.81">snakemake CI container (b)</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="551" y="278">- gin get repo</text><text x="551" y="292">- parse .gin.ci-conf.yaml</text><text x="551" y="306">- gin get submodules</text><text x="551" y="320">- install dependencies</text><text x="551" y="334">- run snakemake</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="559.5" y="432.5">- out.dat</text></g><rect x="562" y="341" width="108" height="48" rx="7.2" ry="7.2" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="615.5" y="405.19">snakemake conda</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="568.5" y="361.5">execute rules</text><text x="568.5" y="375.5">gin get content (c)</text></g><path d="M 514.69 175.21 L 349.17 175.21 L 349.17 247.73" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 349.17 255.73 L 346.51 247.73 L 351.84 247.73 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><rect fill="#ffffff" stroke="none" x="375" y="180" width="97" height="15" stroke-width="0"/><text x="422.71" y="190.05">Commit config file</text></g><rect x="515" y="115" width="202" height="80" rx="12" ry="12" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="633.12" y="109.12">GIN CI User forms</text></g><rect x="550" y="485" width="130" height="100" rx="15" ry="15" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="614.5" y="601.19">gin-proc features</text></g><path d="M 318.83 257.97 L 318.83 135.21 L 504.45 135.21" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 512.45 135.21 L 504.45 137.87 L 504.45 132.54 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><rect fill="#ffffff" stroke="none" x="333" y="117" width="139" height="15" stroke-width="0"/><text x="401.57" y="127.05">GIN forward to form on CI</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="532.5" y="138.5">a) Auto-create .gin-ci-conf.yaml</text><text x="532.5" y="152.5">    - select build type</text><text x="532.5" y="166.5">    - select required files</text><text x="532.5" y="180.5">b) Update existing config file</text></g><rect x="756" y="390" width="136" height="80" rx="12" ry="12" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="middle" font-size="14px"><text x="823.16" y="384.12">Repo cache, results</text></g><path d="M 695.96 430.38 L 716.07 430.38 L 745.83 429.87" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 687.96 430.38 L 695.96 427.71 L 695.96 433.05 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 753.83 429.73 L 745.88 432.53 L 745.79 427.2 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="767.5" y="419.5">Caching repositories</text><text x="767.5" y="433.5">Intermediate results</text><text x="767.5" y="447.5">Zip download results</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="568.5" y="508.5">Job queue</text><text x="568.5" y="522.5">Container registry</text><text x="568.5" y="536.5">Statistics</text><text x="568.5" y="550.5">RunLogs</text><text x="568.5" y="564.5">DAG (f)</text></g><rect x="259" y="258" width="120" height="92.31" rx="13.85" ry="13.85" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="244.19" y="253.81">repo [master]</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="267.5" y="278.5">snakefile</text><text x="267.5" y="292.5">codefile.py</text><text x="267.5" y="306.5">in.dat</text><text x="267.5" y="334.5">.gin-proc-conf.yaml</text></g><rect x="33" y="268" width="150" height="71" rx="10.65" ry="10.65" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="77.5" y="262.81">repo [master]</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="38" y="294">change in 'in.dat'</text><text x="38" y="308">commit -m "gin-proc build"</text><text x="38" y="322">push / PR</text></g></g></svg>