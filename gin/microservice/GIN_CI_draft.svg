<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" style="background-color: rgb(255, 255, 255);" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="916px" height="538px" viewBox="-0.5 -0.5 916 538" content="&lt;mxfile modified=&quot;2019-02-12T15:54:48.748Z&quot; host=&quot;www.draw.io&quot; agent=&quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:65.0) Gecko/20100101 Firefox/65.0&quot; version=&quot;10.2.2&quot; etag=&quot;7iS90PHwKPoc08_u__B9&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;cf63cc30-8442-5d33-6bd1-2f34b1dd6ee1&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><rect x="0" y="71" width="180" height="154" rx="23.1" ry="23.1" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="32.83" y="64.83">Local</text></g><rect x="476" y="71" width="202" height="390" rx="30.3" ry="30.3" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="523.83" y="64.83">GIN CI</text></g><rect x="221" y="71" width="160" height="222" rx="24" ry="24" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="248.83" y="64.83">GIN</text></g><path d="M 644.07 210.88 L 803.6 211.62" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 636.07 210.84 L 644.08 208.21 L 644.06 213.55 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 811.6 211.66 L 803.59 214.29 L 803.61 208.95 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><rect fill="#ffffff" stroke="none" x="690" y="189" width="97" height="15" stroke-width="0"/><text x="737.75" y="199.13">authentication (d)</text></g><path d="M 357.17 149.17 L 496.1 149.94" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 504.1 149.99 L 496.08 152.61 L 496.11 147.28 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><rect fill="#ffffff" stroke="none" x="397" y="129" width="70" height="15" stroke-width="0"/><text x="396.84" y="138.53">webhook (a)</text></g><path d="M 521.33 272.5 L 302.17 272.5 L 302.17 206.07" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 302.17 198.07 L 304.83 206.07 L 299.5 206.07 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><rect fill="#ffffff" stroke="none" x="395" y="279" width="69" height="15" stroke-width="0"/><text x="428.42" y="289.42">Backflow (e)</text></g><rect x="814" y="162" width="100" height="100" rx="15" ry="15" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="856.83" y="155.83">Cluster</text></g><path d="M 159.67 149.17 L 236.93 149.17" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 244.93 149.17 L 236.93 151.83 L 236.93 146.5 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><rect fill="#ffffff" stroke="none" x="159" y="127" width="2" height="15" stroke-width="0"/></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="1.5" y="324.5">(a) [user]/[repo]/[branch]/[cibuild]</text><text x="1.5" y="338.5">      e.g. mdenker/reponame/master/snakemake</text><text x="1.5" y="352.5">(b) container persistance and reuse</text><text x="1.5" y="366.5">(c) timestamp handling: local vs. commit(b) snakemake specific remotes</text><text x="1.5" y="380.5">      possible gin remote</text><text x="1.5" y="394.5">(d) authentication via gin token exchange</text><text x="1.5" y="408.5">(e) backflow of out.in to the gin repo</text><text x="1.5" y="422.5">     - new branch + pull request</text><text x="1.5" y="436.5">     - downloadable zip file</text></g><path d="M 578 295.83 L 578 319.76" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 578 327.76 L 575.33 319.76 L 580.67 319.76 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><rect fill="#ffffff" stroke="none" x="532" y="293" width="2" height="15" stroke-width="0"/></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="1.5" y="476.5">snakefile example:</text><text x="1.5" y="490.5">rule:</text><text x="1.5" y="504.5">  input: gin://in.dat</text><text x="1.5" y="518.5">  output: gin://out.dat -m "job success commit message"</text><text x="1.5" y="532.5">  shell: python codefile.py in.dat out.dat</text></g><rect x="523" y="330" width="110" height="91" rx="13.65" ry="13.65" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="577.5" y="439.33">GIN CLI features</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="531.5" y="349.5">Job queue</text><text x="531.5" y="363.5">Container registry</text><text x="531.5" y="377.5">Statistics</text><text x="531.5" y="391.5">RunLogs</text><text x="531.5" y="405.5">DAG</text></g><rect x="19" y="113" width="141" height="72" rx="10.8" ry="10.8" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="89" y="105.67">repo [master]</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="25" y="134.5">change in 'in.dat'</text><text x="25" y="148.5">commit -m "gin-ci build"</text><text x="25" y="162.5">push / PR</text></g><rect x="247.5" y="102" width="110" height="94" rx="14.1" ry="14.1" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="302" y="94.67">repo [master]</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="256" y="125.5">snakefile</text><text x="256" y="139.5">codefile.py</text><text x="256" y="153.5">in.dat</text><text x="256" y="167.5">.gin-ci-conf.yaml</text></g><g fill="#000000" font-family="Helvetica" font-size="20px"><text x="1.5" y="22.5">GIN-CI snakemake microservice workflow [DRAFT]</text></g><rect x="506" y="101" width="144" height="195" rx="21.6" ry="21.6" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="577.5" y="93.67">snakemake CI container (b)</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="515" y="124">- gin get repo</text><text x="515" y="138">- parse .gin.ci-conf.yaml</text><text x="515" y="152">- gin get submodules</text><text x="515" y="166">- install dependencies</text><text x="515" y="180">- run snakemake</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="523.5" y="278.5">- out.dat</text></g><rect x="526" y="187" width="108" height="48" rx="7.2" ry="7.2" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="579.5" y="251.33">snakemake conda</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="532.5" y="207.5">execute rules</text><text x="532.5" y="221.5">gin get content (c)</text></g></g></svg>