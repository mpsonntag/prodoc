<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1038px" height="773px" viewBox="-0.5 -0.5 1038 773" content="&lt;mxfile modified=&quot;2019-06-06T12:10:56.892Z&quot; host=&quot;www.draw.io&quot; agent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/74.0.3729.169 Chrome/74.0.3729.169 Safari/537.36&quot; etag=&quot;lJV2iO6FMHSv-gFhLArb&quot; version=&quot;10.7.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;cf63cc30-8442-5d33-6bd1-2f34b1dd6ee1&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="478" y="153" width="425" height="563" rx="63.75" ry="63.75" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="546.12" y="147.12">GIN CI VM</text></g><rect x="10" y="300" width="180" height="154" rx="23.1" ry="23.1" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="43.12" y="294.12">Local</text></g><rect x="504" y="300" width="202" height="390" rx="30.3" ry="30.3" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="552.12" y="294.12">GIN CI</text></g><rect x="227" y="300" width="160" height="222" rx="24" ry="24" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="255.12" y="294.12">GIN</text></g><path d="M 672.1 439.72 L 926.11 439.72" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 664.1 439.72 L 672.1 437.06 L 672.1 442.39 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 934.11 439.72 L 926.11 442.39 L 926.11 437.06 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><rect fill="#ffffff" stroke="none" x="765" y="421" width="95" height="15" stroke-width="0"/><text x="811.72" y="430.57">authentication (d)</text></g><path d="M 367.38 378.34 L 524.04 378.99" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 532.04 379.03 L 524.03 381.66 L 524.05 376.33 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><rect fill="#ffffff" stroke="none" x="403" y="360" width="68" height="15" stroke-width="0"/><text x="403.16" y="369.55">webhook (a)</text></g><path d="M 549.45 501.79 L 312.21 501.79 L 312.21 435.48" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 312.21 427.48 L 314.87 435.48 L 309.54 435.48 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><rect fill="#ffffff" stroke="none" x="401" y="509" width="68" height="15" stroke-width="0"/><text x="434.29" y="518.64">Backflow (e)</text></g><rect x="936" y="389.5" width="100" height="100" rx="15" ry="15" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="979.12" y="383.62">Cluster</text></g><path d="M 170.14 378.34 L 247.49 378.34" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 255.49 378.34 L 247.49 381.01 L 247.49 375.68 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><rect fill="#ffffff" stroke="none" x="169" y="356" width="2" height="15" stroke-width="0"/></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="11.5" y="555.5">(a) [user]/[repo]/[branch]/[cibuild]</text><text x="11.5" y="569.5">      e.g. mdenker/reponame/master/snakemake</text><text x="11.5" y="583.5">(b) container persistance and reuse</text><text x="11.5" y="597.5">(c) timestamp handling: local vs. commit(b) snakemake specific remotes</text><text x="11.5" y="611.5">      possible gin remote</text><text x="11.5" y="625.5">(d) authentication via gin token exchange</text><text x="11.5" y="639.5">(e) backflow of out.in to the gin repo</text><text x="11.5" y="653.5">     - new branch + pull request</text><text x="11.5" y="667.5">     - downloadable zip file</text><text x="11.5" y="681.5">(f) snakemake build graph visualization</text></g><path d="M 606 525.24 L 606.19 548.8" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 606.26 556.8 L 603.53 548.82 L 608.86 548.78 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><rect fill="#ffffff" stroke="none" x="560" y="522" width="2" height="15" stroke-width="0"/></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="11.5" y="705.5">snakefile example:</text><text x="11.5" y="719.5">rule:</text><text x="11.5" y="733.5">  input: gin://in.dat</text><text x="11.5" y="747.5">  output: gin://out.dat -m "job success commit message"</text><text x="11.5" y="761.5">  shell: python codefile.py in.dat out.dat</text></g><rect x="29" y="342" width="141" height="72" rx="10.8" ry="10.8" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="99" y="334.81">repo [master]</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="35" y="363.5">change in 'in.dat'</text><text x="35" y="377.5">commit -m "gin-ci build"</text><text x="35" y="391.5">push / PR</text></g><rect x="257.5" y="331" width="110" height="94" rx="14.1" ry="14.1" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="end" font-size="12px"><text x="306.31" y="321.81">repo [master]</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="266" y="354.5">snakefile</text><text x="266" y="368.5">codefile.py</text><text x="266" y="382.5">in.dat</text><text x="266" y="410.5">.gin-ci-conf.yaml</text></g><g fill="#000000" font-family="Helvetica" font-size="20px"><text x="1.5" y="21.5">GIN-CI snakemake microservice workflow [DRAFT]</text></g><rect x="534" y="330" width="144" height="195" rx="21.6" ry="21.6" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="605.5" y="322.81">snakemake CI container (b)</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="543" y="353">- gin get repo</text><text x="543" y="367">- parse .gin.ci-conf.yaml</text><text x="543" y="381">- gin get submodules</text><text x="543" y="395">- install dependencies</text><text x="543" y="409">- run snakemake</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="551.5" y="507.5">- out.dat</text></g><rect x="554" y="416" width="108" height="48" rx="7.2" ry="7.2" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="607.5" y="480.19">snakemake conda</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="560.5" y="436.5">execute rules</text><text x="560.5" y="450.5">gin get content (c)</text></g><path d="M 506.69 250.07 L 339.79 250.07 L 339.79 320.52" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 339.79 328.52 L 337.13 320.52 L 342.46 320.52 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><rect fill="#ffffff" stroke="none" x="367" y="255" width="97" height="15" stroke-width="0"/><text x="414.71" y="264.91">Commit config file</text></g><rect x="507" y="190" width="202" height="80" rx="12" ry="12" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="625.12" y="184.12">GIN CI User forms</text></g><rect x="542" y="560" width="130" height="100" rx="15" ry="15" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="606.5" y="676.19">GIN CI features</text></g><path d="M 312.21 330.76 L 312.21 210.07 L 496.45 210.07" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 504.45 210.07 L 496.45 212.74 L 496.45 207.4 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><rect fill="#ffffff" stroke="none" x="327" y="192" width="139" height="15" stroke-width="0"/><text x="395.64" y="201.91">GIN forward to form on CI</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="524.5" y="213.5">a) Auto-create .gin-ci-conf.yaml</text><text x="524.5" y="227.5">    - select build type</text><text x="524.5" y="241.5">    - select required files</text><text x="524.5" y="255.5">b) Update existing config file</text></g><rect x="748" y="465" width="136" height="80" rx="12" ry="12" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="middle" font-size="14px"><text x="815.16" y="459.12">Repo cache, results</text></g><path d="M 687.96 505.24 L 708.07 505.24 L 737.83 505.24" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 679.96 505.24 L 687.96 502.57 L 687.96 507.91 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 745.83 505.24 L 737.83 507.91 L 737.83 502.57 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="759.5" y="494.5">Caching repositories</text><text x="759.5" y="508.5">Intermediate results</text><text x="759.5" y="522.5">Zip download results</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="560.5" y="583.5">Job queue</text><text x="560.5" y="597.5">Container registry</text><text x="560.5" y="611.5">Statistics</text><text x="560.5" y="625.5">RunLogs</text><text x="560.5" y="639.5">DAG (f)</text></g></g></svg>