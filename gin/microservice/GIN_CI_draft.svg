<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="928px" height="773px" viewBox="-0.5 -0.5 928 773" content="&lt;mxfile modified=&quot;2019-06-06T09:44:12.657Z&quot; host=&quot;www.draw.io&quot; agent=&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/74.0.3729.169 Chrome/74.0.3729.169 Safari/537.36&quot; etag=&quot;wAZRpH4ttbPP9jOHslbE&quot; version=&quot;10.7.5&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;cf63cc30-8442-5d33-6bd1-2f34b1dd6ee1&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="478" y="153" width="258" height="563" rx="38.7" ry="38.7" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="546.12" y="147.12">GIN CI VM</text></g><rect x="10" y="300" width="180" height="154" rx="23.1" ry="23.1" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="43.12" y="294.12">Local</text></g><rect x="504" y="300" width="202" height="390" rx="30.3" ry="30.3" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="552.12" y="294.12">GIN CI</text></g><rect x="227" y="300" width="160" height="222" rx="24" ry="24" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="255.12" y="294.12">GIN</text></g><path d="M 672.1 439.72 L 815.76 439.72" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 664.1 439.72 L 672.1 437.06 L 672.1 442.39 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 823.76 439.72 L 815.76 442.39 L 815.76 437.06 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><rect fill="#ffffff" stroke="none" x="715" y="421" width="95" height="15" stroke-width="0"/><text x="761.38" y="430.57">authentication (d)</text></g><path d="M 367.38 378.34 L 524.04 378.99" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 532.04 379.03 L 524.03 381.66 L 524.05 376.33 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><rect fill="#ffffff" stroke="none" x="403" y="360" width="68" height="15" stroke-width="0"/><text x="403.16" y="369.55">webhook (a)</text></g><path d="M 549.45 501.79 L 312.21 501.79 L 312.21 435.48" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 312.21 427.48 L 314.87 435.48 L 309.54 435.48 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><rect fill="#ffffff" stroke="none" x="401" y="509" width="68" height="15" stroke-width="0"/><text x="434.29" y="518.64">Backflow (e)</text></g><rect x="826" y="390" width="100" height="100" rx="15" ry="15" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="869.12" y="384.12">Cluster</text></g><path d="M 170.14 378.34 L 247.49 378.34" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 255.49 378.34 L 247.49 381.01 L 247.49 375.68 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><rect fill="#ffffff" stroke="none" x="169" y="356" width="2" height="15" stroke-width="0"/></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="11.5" y="555.5">(a) [user]/[repo]/[branch]/[cibuild]</text><text x="11.5" y="569.5">      e.g. mdenker/reponame/master/snakemake</text><text x="11.5" y="583.5">(b) container persistance and reuse</text><text x="11.5" y="597.5">(c) timestamp handling: local vs. commit(b) snakemake specific remotes</text><text x="11.5" y="611.5">      possible gin remote</text><text x="11.5" y="625.5">(d) authentication via gin token exchange</text><text x="11.5" y="639.5">(e) backflow of out.in to the gin repo</text><text x="11.5" y="653.5">     - new branch + pull request</text><text x="11.5" y="667.5">     - downloadable zip file</text><text x="11.5" y="681.5">(f) snakemake build graph visualization</text></g><path d="M 606 525.24 L 606.19 548.8" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 606.26 556.8 L 603.53 548.82 L 608.86 548.78 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-size="12px"><rect fill="#ffffff" stroke="none" x="560" y="522" width="2" height="15" stroke-width="0"/></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="11.5" y="705.5">snakefile example:</text><text x="11.5" y="719.5">rule:</text><text x="11.5" y="733.5">  input: gin://in.dat</text><text x="11.5" y="747.5">  output: gin://out.dat -m "job success commit message"</text><text x="11.5" y="761.5">  shell: python codefile.py in.dat out.dat</text></g><rect x="29" y="342" width="141" height="72" rx="10.8" ry="10.8" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="99" y="334.81">repo [master]</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="35" y="363.5">change in 'in.dat'</text><text x="35" y="377.5">commit -m "gin-ci build"</text><text x="35" y="391.5">push / PR</text></g><rect x="257.5" y="331" width="110" height="94" rx="14.1" ry="14.1" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="end" font-size="12px"><text x="306.31" y="321.81">repo [master]</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="266" y="354.5">snakefile</text><text x="266" y="368.5">codefile.py</text><text x="266" y="382.5">in.dat</text><text x="266" y="410.5">.gin-ci-conf.yaml</text></g><g fill="#000000" font-family="Helvetica" font-size="20px"><text x="1.5" y="21.5">GIN-CI snakemake microservice workflow [DRAFT]</text></g><rect x="534" y="330" width="144" height="195" rx="21.6" ry="21.6" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="605.5" y="322.81">snakemake CI container (b)</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="543" y="353">- gin get repo</text><text x="543" y="367">- parse .gin.ci-conf.yaml</text><text x="543" y="381">- gin get submodules</text><text x="543" y="395">- install dependencies</text><text x="543" y="409">- run snakemake</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="551.5" y="507.5">- out.dat</text></g><rect x="554" y="416" width="108" height="48" rx="7.2" ry="7.2" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="607.5" y="480.19">snakemake conda</text></g><g fill="#000000" font-family="Helvetica" font-size="12px"><text x="560.5" y="436.5">execute rules</text><text x="560.5" y="450.5">gin get content (c)</text></g><path d="M 506.69 250.07 L 339.79 250.07 L 339.79 320.52" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 339.79 328.52 L 337.13 320.52 L 342.46 320.52 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(367.5,254.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="95" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">Commit config file</div></div></foreignObject><text x="48" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Commit config file</text></switch></g><rect x="507" y="190" width="202" height="80" rx="12" ry="12" fill="#ffffff" stroke="#808080" stroke-width="2" stroke-dasharray="6 6" pointer-events="none"/><g fill="#808080" font-family="Helvetica" text-anchor="end" font-size="14px"><text x="625.12" y="184.12">GIN CI User forms</text></g><rect x="542" y="560" width="130" height="100" rx="15" ry="15" fill="none" stroke="#000000" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="606.5" y="676.19">GIN CI features</text></g><g transform="translate(565.5,575.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="95" height="82" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Job queue<br />Container registry<br />Statistics<br />RunLogs<br />DAG (f)<br /><br /></div></div></foreignObject><text x="48" y="47" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 312.21 330.76 L 312.21 210.07 L 496.45 210.07" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 504.45 210.07 L 496.45 212.74 L 496.45 207.4 Z" fill="#666666" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(327.5,191.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="137" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">GIN forward to form on CI</div></div></foreignObject><text x="69" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">GIN forward to form on CI</text></switch></g><g transform="translate(524.5,202.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="167" height="54" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">a) Auto-create .gin-ci-conf.yaml<br />- select build type<br />- select required files<br />b) Update existing config file<br /></div></div></foreignObject><text x="84" y="33" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g></g></svg>