
jgrewe
1:54 PM
joined #odml. Also, @achilleas joined.

achilleas
2:46 PM
Weeeeell
2:46
Here I was trying to create the odML channel
2:46
and it's already here

jgrewe
4:46 PM
sorry

rickskyy
5:53 PM
joined #odml by invitation from @achilleas

jgrewe
6:01 PM
ah
6:01
g’day

rickskyy
6:18 PM
somewhat pessimistic ))"We have problems on multiple levels:
- we are in the process of refactoring odML.
- we have no proper overview of which odML versions are out there and no good understanding of how they are currently used.
    - don't have even proper example odML files from any of the users!
- we have no one who actually is proficient in RDF, knows how the class system works and how to best design it
    - to specify: to which degree should we use RDF terms that are already there, or should we use just our own defined RDF terms.
- we have no good idea, how the people from the CRCNS actually work with RDF and which format would be good for them
    - how would they like to search the data.
    - which RDF terminologies are they using, etc.
    - if they use validators for RDF graphs"

jgrewe
6:28 PM
Indeed that sounds pessimistic
6:28
:smirk:

jgrewe
7:15 PM
But methinks it is not that bad, or the other way round, we simply do what we like

dumdribille
11:26 AM
joined #odml

dumdribille
11:27 AM
@rickskyy jan and me are just re-organizing the odml document
11:28
adding examples for the more tricky parts
11:28
and removing odml terms that should not be supported any longer
11:28
feel free to join in of course! :slightly_smiling_face:

jgrewe
11:28 AM
@rickskyy, please visit gin.g-node.org and register there, then we can add you to a repository containing some example files
11:29
will be extending that

rickskyy
11:38 AM
registered as rickskyy
11:39
https://web.gin.g-node.org/rickskyy
web.gin.g-node.org
rickskyy (Yaroslav Shalivskyy)
rickskyy has 0 followers and is following 0 people.

rickskyy
11:49 AM
the graph image is nice)

dumdribille
11:53 AM
merci
11:53
the graph will still change today though :wink:
11:54
with the changes @jgrewe an and me discussed just now
11:54
but everything will become easier which is nice...

jgrewe
11:57 AM
@cgars could you add yaroslav to the gin/odmlFiles repo

cgars
11:57 AM
joined #odml by invitation from @jgrewe

rickskyy
11:57 AM
yeah it is easier to go from this point comparing to yesterday version)

dumdribille
3:00 PM
k, I updated the document some more and added the new and improved first version draft graph!

dumdribille
5:44 PM
c:

rickskyy
8:21 PM
great, thanks) (edited)
rickskyy
11:19 AM

<?xml version="1.0" encoding="UTF-8"?>

<?xml-stylesheet  type="text/xsl" href="odmlTerms.xsl"?>

<?xml-stylesheet  type="text/xsl" href="odml.xsl"?>

<odML version="1.1">

  <id>"1"</id>

rickskyy
11:21 AM
Does this look ok? There will be uuids as ids, current id strings are just for example

dumdribille
12:13 PM
oh, cool!
12:14
we have a meeting next
12:14
I'll get back to you in the afternoon when I had time to properly appreciate it :wink:

rickskyy
12:49 PM
frankly there is nothing to really appreciate yet))

dumdribille
2:51 PM
From my point of view the file looks good, except for the type in property which should be dtype instead.
2:52
I think thats to distinguish between the type of a section for searching purposes and the dtype which actually describes the datatype of the value.

jgrewe
2:53 PM
uh, actually I am not sure, if dtype isn’t mapped to type in the xml writer

dumdribille
2:53 PM
but that has been changed in the latest version of the odml->rdf document I think :wink:
2:53
ah, ok!

jgrewe
2:55 PM
but in the rdf export I agree
2:55
should be dtype there
2:55
regarding the id strings, I guess there is not reason to have the with quotation marks
rickskyy

4:01 PM
yeah, there won't be quotation marks (edited)

rickskyy
4:11 PM

<rdf:RDF xml:lang="en"

         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"

         xmlns:odml="http://g-node/odml#"

         xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#">

rickskyy
4:11 PM

<?xml version="1.0" encoding="UTF-8"?>

<?xml-stylesheet  type="text/xsl" href="odmlTerms.xsl"?>

<?xml-stylesheet  type="text/xsl" href="odml.xsl"?>

<odML version="1.1">

  <id>aaa</id>

rickskyy
4:11 PM
so here is the example of an rdf and odml ( odml is mostly the same as I sent earlier)
4:13
rdf is validated by this tool from w3
https://www.w3.org/RDF/Validator/
4:14
I like the validator because it automatically builds graph and generates errors if smth goes wrong with the rdf model (edited)

rickskyy
4:16 PM
The graph generated

rickskyy
4:18 PM
how does it look? I use this example as the starting point for the converter (edited)

dumdribille
4:18 PM
I just glanced over everything and it looks really good!
4:19
I got some comments, but I think I will only manage to properly think them through later in the afternoon. :wink:
4:20
the validator seems like  a really helpful tool!

rickskyy
4:21 PM
the only problem is that it generates error if I use uuids which start with a digit
Error: {W108} Not an XML Name: '05e14adf-1ca2-4b2d-984d-6c84814a84de'[Line = 6, Column = 72] (edited)
4:23
but for simple test examples it is quite good
4:27
Also I write some logs about my work in the doc below. Happy to see your comments or feedback there.
https://docs.google.com/document/d/1EZu6g8TG2ZzoJaXNaTeMDFY5yQTJh1RRm6vf675bMsM/edit?usp=sharing

dumdribille
4:29 PM
perfect, thx!
rickskyy
4:32 PM
:blush:
rickskyy
7:08 PM
As you saw I simply duplicated the attributes which relate to the rdfs schema.
Like:
       <odml:definition>Information on the crew</odml:definition>
       <rdfs:comment>Information on the crew</rdfs:comment>It seems to me quite redundant. What do you think about the idea of mapping between such cases while converting to both sides? So the rdf doc would have only comment and odml definition respectively. (edited)
rickskyy
7:35 PM

<?xml version="1.0" encoding="UTF-8"?>

<rdf:RDF

   xmlns:ns1="http://g-node/odml#"

   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"

   xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"

This is the example file generated with rdflib without duplicated properties.

dumdribille
7:59 PM
finally had some time to look everything over!
7:59
so far it looks good!
8:01
one of the comments I wanted to make when I saw the first draft you already addressed: (edited)
8:02
with respect to the duplicated properties
8:02
Its either odml:name OR RDFS:label and equivalent odml:definition OR RDFS:comment. I just added the alternatives in respect to the case we want to move to the direction to use less custom terms and more already existing RDF terms. (edited)
8:02
for now I think we should implement just the terms in the RDF column.
8:02
The same is true for si:units - use odml:unit for now and if there is time explore if we could use the existing si:unit vocabulary.
8:02
in the concept document, everything in the "RDF alternative" column is supposed to be either an additional comment or an alternative term to the main rdf term. Every RDF:label or RDF:comment
8:03
I think with respect to the other comments, I will collect them and comment in a couple of days, since I am sure, that many of them you have already on your mind, but had no time to address yet. :wink:

rickskyy
2:05 PM
Hello everyone,Just uploaded the first version of a converter:https://github.com/rickskyy/python-odml/blob/rdf-converter/converter/tools/rdf_converter.pyNow working towards adding links and includes in sections.So far have some questions:1) What are specific data types can be used for objects in a triple, in particular, for values of a property, to specify for the xsd type schema? First one I saw and came with was date so I can explicitly specify it, guess there are more.2) Should the bag be created in all cases (even for one value)?
GitHub
rickskyy/python-odml
python-odml - odML libraries and editor

achilleas
2:06 PM
I've been falling behind on this so I'll have to check what you guys were talking about before having a look.

dumdribille
2:10 PM
hi!

dumdribille
3:14 PM
thx for the code!
3:14
ad 2) I would say use a bag in every case even if there is only one value

dumdribille
3:22 PM
ad 1) I am not sure how we should add data types directly to values , since this is handled via property.dtype. The type defined there applies to all values in the bag. Maybe if dtype is a basic datatype, then add the corresponding datatype, otherwise add xsd:string.
3:23
we were also thinking about how to best do code reviews with the current project setup
3:24
it would probably be best, if we create a dev-odml-rdf branch on G-Node/python-odml and @rickskyy can then do pull requests towards this branch
3:24
which we then can properly review, comment, issurize and everything

achilleas
3:25 PM
odml-rdf-dev would be better, surely

rickskyy
6:34 PM
thank you for the response)


10.07.2017
rickskyy
11:59 AM
Some questions to discuss.
1) Should we use empty bag for None values.
2) How the terminology can be accessed/stored besides the url in the document.
3) As I read references could be strings to some DB besides url. What do you think of adding a some kind of url validator to diversify such cases? Since different identifiers in rdflib are used (URIRef and Literal) it might be important.
4) Questions about link&include:
    a) Does inheritance work only for properties or other attributes as well?
    b) Should I manage some validation issues e.g. is link from the section to its subsection is considered as mistake?
    c) Are values of links' attributes just name of Sections in the current document? (edited)

dumdribille
1:08 PM
starting hangout :wink:

jgrewe
1:25 PM
There are situations in which a strict application of the rules about the hierarchical organization (see above) 
would lead to complicated and redundant structures. To avoid this odML Sections dene link, include, and reference 
elements which can be used to introduce relations that exist outside the hierarchical organization.
A link is used to refer to sections within the document and contains a path in the tree. Paths de ning the position 
in the tree are given by Section names, separated by slashes (“/”). Paths are absolute, i.e., they begin at the root 
of the tree. To illustrate the use of links, we consider a case in which a number of datasets have been recorded using a 
rather complex stimulus. The stimulus is repeated for each dataset, but each time a single stimulus parameter, e.g., 
the intensity, has been changed. It would be valid to provide the full stimulus description for each dataset 
individually but, obviously, this would be cumber- some and inef cient. Instead, one de nes the stimulus once 
within the document and then links to it for each dataset. The referring stimulus sections contain only the changes 
(i.e., the “intensity” properties). Links can only exist between sections of the same type and include all subsections and 
properties. Local information, given in the linking section, overrides items inherited from the linked Section.
The include element can be used to establish relations to sec- tions (same type) that are located in an external  le. 
Include entries can be either an URL or a path in the  le system (rela- tive or absolute). The URL is followed by a hash symbol (#) 
and the absolute path of the target Section. For example, a stimulus Section could contain an include element 
like “stimulus-metadata. xml#myStimulus.” This indicates that the stimulus information is provided in a stimulus-type section 
of the name “myStimulus” located in the “stimulus-metadata.xml”  le in the same folder in the  le system. Of course care 
has to be taken if the data is shared when local  les are referenced. As for the link element the locally provided 
information overrides the one given in the included section.
1:26
some information on links and includes

rickskyy
9:44 PM
Thanks Jan for the info. In general I understand the concept.
I guess BaseSection.merge does the linkage. I did not see that when I was writing questions and thought I should implement this merge myself.
Finally, in terms of the converter - the link is just a Literal string, and include is a string or a URIRef?

jgrewe
9:47 PM
could you verify that the merge actually does what is claims? That would be great
9:49
both link and include are basically strings. The includes are urls/uris in the ideal world. could also be just filenames and path within that file

rickskyy
9:56 PM
ok, I will check this


11.07.2017
dumdribille
10:28 AM
I just created the dev-odml-rdf branch on the G-Node/python-odml repository from current master
10:29
@rickskyy you can create pull requests against that branch from now on. :slightly_smiling_face:


dumdribille
5:14 PM
@rickskyy @jgrewe guys, I just added a Q&A section at the bottom of the "Exporting odML to RDF" google doc
5:14
but I am actually not very happy with this communication
5:16
I'd rather have these discussions on github either as issues or via a specific project
5:16
I guess if Yaroslav, you have questions, add them as issues and we discuss over there
5:17
then we can also easily go back and check if we are unsure about our reasons 3 months from now.
5:18
we could either use "[rdf] title" to distinguish these issues from other python-odml issues or we create a github project for it and tag the issues with it.
5:19
@rickskyy I have some comments and some additional assignments for this week.
5:19
should I post them here or add them to your day log google doc? I don't mind either :slightly_smiling_face:
5:21
@jgrewe @rickskyy maybe we could also agree one time during the week, where we are more or less available for half a day and chat about arisen questions
5:21
because right now it is more or less asynchronious all the time :wink:

dumdribille
5:27 PM
sucks a bit, that we all three sit in completely different locations :stuck_out_tongue:

jgrewe
5:30 PM
indeed, I agree with the github issues if there is some intense discussio required we can still switch to slack or hangout (edited)
5:32
I am basically offline for the next two days

dumdribille
5:33 PM
in general, when would be a good day for you to be available for chatting here?
5:33
on and off of course :wink:
5:34
just so @rickskyy and me know at that time its nice to hang out in the slackroom

jgrewe
5:34 PM
can’t say definitely, things keep changing faster than I like
5:34
:slightly_smiling_face:
5:34
i usually have it on all day

dumdribille
5:34 PM
thus is the life of a postdoc :stuck_out_tongue:

jgrewe
5:34 PM
hehe
5:36
maybe it is easier the other way round, Tuesday mornings is bad since we have seminars, I would also like to keep the Monday morning clear…
5:36
othewise I am mainly flexible

dumdribille
5:37 PM
that sounds like a good approach!
5:37
for me monday afternoon sucks because of meetings, friday afternoon because of frequent vienna travels
5:37
and the DB does not provide wireless on their part of the travel-leg

jgrewe
5:38 PM
fair enough :slightly_smiling_face: I considered ICE travel as a distraction-free time and now they have wireless … (edited)

dumdribille
5:39 PM
on the upper hand, it keeps the other passengers quiet :wink:
5:39
*upside actually


rickskyy
5:46 PM
hi everyone, sorry, was offline during the whole day. (edited)
5:47
about assignments, I think it's better to post them to google doc
5:48
I mostly open for any day and time for chatting, just let me know what is the best option for you so I can organize my time correctly
dumdribille
5:49 PM
no problemo :wink:
5:50
maybe we can aim for tuesday afternoon in general then
jgrewe
5:50 PM
fine with me
rickskyy
5:50 PM
that sounds good
5:52
@dumdribille check if you can edit the doc, I changed the sharing
here is the link: https://docs.google.com/document/d/1EZu6g8TG2ZzoJaXNaTeMDFY5yQTJh1RRm6vf675bMsM/edit?usp=sharing (edited)
dumdribille
5:53 PM
works!
5:55
most of the comments I just added aim towards the output rdf
5:56
to get our individually defined classes in there
5:56
and to create a schema that can be used for proper validation
5:57
I just need to figure out where to host the schema after we have it :wink:
rickskyy
5:58 PM
the schema is mostly defined in odml.format as _rdf_map
5:59
you mean schema file as namespace?
dumdribille
5:59 PM
indeed
6:00
sthg like thus
6:00
http://xmlns.com/foaf/spec/index.rdf
rickskyy
6:00 PM
I understand
dumdribille
6:00 PM
this then can be used to validate the resulting rdf file against
rickskyy
6:00 PM
i guess you can add a page on the g-node website (edited)
dumdribille
6:01 PM
yeah the final version should be found there eventually
6:02
but I think this one will still change quite heavily during development
6:02
I wonder whether it should reside in its own github repo or if we should add it to the python-odml repo for now
6:02
decisions descision
jgrewe
6:03 PM
go for it and just decide :slightly_smiling_face:
dumdribille
6:03 PM
or whether it should reside with the odml templates, since it touches a very similar topic
jgrewe
6:03 PM
For the moment I would vote for keeping everything in the same place
rickskyy
6:03 PM
I think it can stay in python-odml
6:04
2 votes for now for the staying at python-odml)
dumdribille
6:05 PM
sounds good :slightly_smiling_face:
6:05
maybe in the doc section of the converter for now then
rickskyy
6:07 PM
let's discuss the package structure than
6:09
smth like:
converter/
       doc/
             examples/
                  example.odml
                  example_generator.py
                  example_rdf.rdf
             schema_odml.rdf
       tools/
             rdf_converter.py
             rdf_json_converter.py
             other_converter.py (edited)
6:09
?
dumdribille
6:10 PM
looks good
rickskyy
6:10 PM
I thought all this would go to the odml.tools eventually
dumdribille
6:11 PM
plus converter/doc/schema_odml.rdf for the new and over time improving schema :wink:
jgrewe
6:12 PM
does it need the converter?
6:13
i mean the converter folder/package?
rickskyy
6:13 PM
I have same doubts
6:13
converter/tools can go nicely to odml/tools
6:14
with docs pretty the same (edited)
jgrewe
6:14 PM
yep
dumdribille
6:15 PM
true, since we develop against a different branch anyhow, we could already properly integrate the rdf converter
6:15
no objection here :slightly_smiling_face:
rickskyy
6:17 PM
so final decision to keep everything in the existing folders odml tools and docs?
6:17
good
6:17
there is a comment number 4 about xml vs turtle representation
dumdribille
6:18 PM
yeah, I like turtle
rickskyy
6:18 PM
the reason I was using xml to check if ids work right
dumdribille
6:18 PM
I'd actually support whichever format the user wants and rdflib provides
6:18
but for our examples i'd prefer turtle
6:18
its nice to read
6:19
aaah I see
rickskyy
6:19 PM
because I was changing some code in existing xmlparsers to keep them work correctly
6:19
turtles looks more human-readable
6:20
i vote for turtles for examples and documentation but yeah the user can choose what he/she wants
6:20
there is plenty of formats in rdflib and it's easy to switch between them (edited)
6:24
I propose to strikethrough the comments that we already discussed. What do you think?
dumdribille
6:24 PM
do it :slightly_smiling_face:
rickskyy
6:25 PM
what a bag I recall
6:25
hah
6:26
would we create it for none values?
dumdribille
6:26 PM
hm, let me quickly create a couple of issues and post my answers there to get us started with the issues :wink:
rickskyy
6:27 PM
ok
6:28
i prepare than a pool request
dumdribille
6:29 PM
cool!
6:32
ok, posted three example question / issues and my current answers to them
6:33
@jgrewe @rickskyy if you have any suggestions about the format, if you want to handle them differently or want to add a project to it, comment away :slightly_smiling_face:
rickskyy
6:39 PM
thanks it's a nice way to discuss questions) Looked through everything and agree with all points.
dumdribille
6:40 PM
cool! :slightly_smiling_face:
6:41
maybe we can come up with a more condensed way of discussing via issues, so we don't swamp the issue tracker, but for now its good enough I guess.
6:42
or label them as 'discussion' so whoever is not interested in them can blend them out
rickskyy
6:54 PM
we can close them instantly after we come up with the solution (edited)
6:56
I think I will pull after I finish tests -> so everything would looks finished and working
6:57
I hope I will be done with it by tomorrow morning, in worst afternoon (edited)
dumdribille
7:04 PM
I'm off for today, have a nice evening! :slightly_smiling_face:
rickskyy
7:04 PM
you too)

12.07.2017

rickskyy
1:05 PM
hi everyone, please check the hub implementation:
https://github.com/rickskyy/python-odml/commit/64bb4aee5b77eaeb806ccd7ac79b06e54ab43e6c
Since hub is a just a node in the graph, so for now I just pass the id to the constructor of the converter, and add the processing doc to the hub node with the id specified. Then, several docs can be merged by uniting them via similar hubs.
GitHub
[rdf-converter] add links, includes and hub · rickskyy/python-odml@64bb4ae
python-odml - odML libraries and editor
dumdribille
1:17 PM
I'll look it over in the evening! :slightly_smiling_face:
dumdribille
8:21 PM
ok, looked over the code :slightly_smiling_face:
8:22
I got a couple of comments, based on my past experience with rdf
8:23
I think we should not use blank nodes, but rather use named nodes (URIRef) wherever we can
8:25
I also put together a small example illustrating the custom namespace and how to add instances of custom types.
dumdribille
8:25 PM

import uuid
from rdflib import Graph, Namespace, RDF, URIRef
g = Graph()

# create custom odml namespace
ns = Namespace("http://g-node.org/odml-rdf#")

# use a specific prefix for our custom odml namespace
g.bind('odml', ns)

# create named hub node - since the custom id is supposed to be a uuid,
# it should be unique wherever, making it unlikely that two different instances
# have the same id - needs to be replaced
# maybe there is a nicer way to get a proper uuid tough, I'm not a python guy ;)
hubNode = URIRef(uuid.uuid4().urn[9:])

# create named document node
docNode = URIRef(uuid.uuid4().urn[9:])

# add hubNode to graph, add it as RDF type "odml:Hub"
g.add( (hubNode, RDF.type, ns.Hub) )

# add docNode to graph, add it as RDF type "odml:Document"
g.add( (docNode, RDF.type, ns.Document) )

# connect docNode as child of hubNode via predicate "odml:hasDocument"
g.add( (hubNode, ns.hasDocument, docNode) )

dumdribille
8:29 PM
whether the actual instances like hubNode or docNode etc should live under the odml namespace as well since they are instances of nodes under the odml namespace I myself am unsure still.
8:30
but as mentioned above it should never be a graph merging problem, when using a uuid as URIRef.
rickskyy
8:31 PM
yeah good comments I will correct this
8:34
actually as far as I know just uuid.uuid4() generates unique id, so there is no real need to check uniqueness
dumdribille
8:35 PM
perfect :slightly_smiling_face:
8:35
if you have more questions let me know!
8:35
but for today I finally have to go home :wink:
8:37
have a nice evening!

